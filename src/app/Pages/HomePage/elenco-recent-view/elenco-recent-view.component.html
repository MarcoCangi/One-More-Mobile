<ion-item class="gradient-bg diagonal-sides">
  <ion-card-title class="titleView">
    {{ 'Recently Viewed' | translate }}
  </ion-card-title>
</ion-item>

  <div class="card-containerHomePage" #widgetsContent>
    <div class="card-wrapperHomePage" *ngIf="!isLoading">

      <ion-item lines="none" class="item-recentView" style="margin-top: 10px;" *ngFor="let attivita of elencoAtt" (click)="VisualizzaAttivita(attivita)">
          <!-- Avatar -->
          <div slot="start" class="img-recentView">
            <img [src]="attivita.uploadImgPrincipale" alt="" style="width: 100%; height: 100%; object-fit: cover;" />
          </div>
        
          <!-- Testi + stelle + distanza -->
          <ion-label class="title-recentView">
            <!-- Nome -->
            <div style="margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ attivita.nome }}</div>
          
            <!-- Stelle -->
            <div style="display: flex; align-items: center; flex-wrap: wrap; font-size: 14px; margin-bottom: 4px;">
              <ng-container *ngFor="let star of [1, 2, 3, 4, 5]">
                <ion-icon
                  [name]="attivita.rating >= star ? 'star' : attivita.rating >= star - 0.5 ? 'star-half' : 'star-outline'"
                  class="star" style="font-size: 14px; color: #f0c330;">
                </ion-icon>
              </ng-container>
              <span class="rating-countHomePage" style="margin-left: 5px;"> ({{ attivita.numberOfRating }})</span>
            </div>
          </ion-label>
        </ion-item>
    </div>

    <div class="card-wrapperHomePage" *ngIf="isLoading">
      <ion-card class="skeleton">
        <ion-skeleton-text [animated]="true" class="imgSkeleton"></ion-skeleton-text>
        <ion-card-header>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </ion-card-header>
      </ion-card>
      <ion-card class="skeleton">
        <ion-skeleton-text [animated]="true" class="imgSkeleton"></ion-skeleton-text>
        <ion-card-header>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </ion-card-header>
      </ion-card>
    </div>
  </div>
