<ion-spinner *ngIf="isLoading" name="crescent" color="primary"></ion-spinner>

    <form [formGroup]="searchForm" class="colIcon">

      <!-- 🔍 Nome locale -->
      <div class="search-wrapper">
        <ion-searchbar 
          placeholder="{{ 'NAME_VENUE' | translate }}" 
          formControlName="nomeLocale"
          (ionInput)="openSuggestions('nome')"
          (ionFocus)="openSuggestions('nome')">
        </ion-searchbar>
      
        <ion-list *ngIf="showSuggestions" class="suggestion-list">
          <ion-item *ngFor="let option of filteredOptionAtt | async" (click)="selectAttivitaOption(option)">
            {{ option.nome }}
          </ion-item>
        </ion-list>
      </div>

      <!-- 🌍 Città -->
      <div class="search-wrapper">
        <ion-searchbar 
          placeholder="{{ 'SearchCity' | translate }}"
          [formControl]="inputCityControl"
          (ionInput)="openSuggestions('citta')"
          (ionFocus)="openSuggestions('citta')">
        </ion-searchbar>
      
        <ion-list *ngIf="showCitiesDropdown" class="suggestion-list">
          <ion-item *ngFor="let city of filteredCitiesOptions | async" (click)="selectCityOption(city)">
            {{ city.descComune }}
          </ion-item>
        </ion-list>
      </div>

      <!-- 🏷️ Tipo di locale -->
      <div class="search-wrapper">
        <ion-searchbar 
          placeholder="{{ 'TYPEACTIVITY' | translate }}"
          [formControl]="inputControl"
          (ionInput)="openSuggestions('tipo')"
          (ionFocus)="openSuggestions('tipo')">
        </ion-searchbar>
      
        <ion-list *ngIf="showDropdown" class="suggestion-list">
          <ion-item *ngFor="let option of filteredOptions | async" (click)="selectOption(option)">
            {{ option.descrizione }}
          </ion-item>
        </ion-list>
      </div>

      <!-- 🎯 Toggle -->
      <ion-toggle style="margin-left: 5%;" [(ngModel)]="isModalOpen" [ngModelOptions]="{standalone: true}">
        {{ 'SEARCHPROMOTYPE' | translate }}
      </ion-toggle>

      <div class="formInput divNumMaxCoupon" *ngIf="isModalOpen">
        <app-tipo-offerte (listaTipologieChanged)="handleListaTipologieChange($event)"></app-tipo-offerte>
      </div>

      <div style="text-align: center; margin-top: 10px;">
        <ion-button shape="round" (click)="Ricerca()">
          <ion-label>{{ 'Search' | translate }}</ion-label>
        </ion-button>
      </div>

    </form>
